---
applyTo: "./backend/db/**"
---

## ğŸ¤– **AI Assistant Guidelines for TillerQuest Development**

### **When Creating/Reviewing Abilities:**

1. **Validate Costs Against Tiers**:

   - Gemstone costs: 1, 2, or 4 only (no 3, 5, 6+ costs)
   - Mana costs: 2-3 (basic), 3-4 (intermediate), 4-6 (advanced), 10-15 (ultimate)
   - Health costs: 3 HP (7.5%), 5 HP (12.5%), 8 HP (20%) - discourage heavy health costs
   - XP rewards: 25, 50, 100, 200, 400, 600 (or null for passives)

2. **Cooperation Priority Check**:

   - Does this ability help teammates? â†’ Lower costs preferred
   - Is this purely selfish? â†’ Higher costs required
   - Guild-wide benefits? â†’ Should be affordable (1-2 gems)

3. **Duration Balance Validation**:

   - 4-16 hours: +50% XP, -10% mana from base
   - 16+ hours: +100% XP, -20% mana from base
   - 2+ days: +150% XP, -30% mana from base

4. **Class Balance Questions**:

   - Does each class have unique cooperation roles?
   - Are class-specific trees 19-22 gemstones total?
   - Do Wizards get mana support, Druids healing, etc.?

5. **Progression Timeline Check**:
   - Will players complete core abilities by month 7?
   - Are we leaving ~42 gemstones for future expansion?
   - Does this maintain meaningful choice pressure?

### **Red Flags to Avoid**:

- âŒ Gemstone costs outside 1-2-4 system
- âŒ Abilities that break cooperation incentives
- âŒ Duration abilities without XP/mana adjustments
- âŒ Class trees exceeding 22 gemstones
- âŒ Pure damage abilities without team utility

### **Green Light Indicators**:

- âœ… Promotes teamwork and interdependence
- âœ… Fits clean tier progression
- âœ… Balanced risk/reward for health costs
- âœ… Maintains 360-day engagement timeline
